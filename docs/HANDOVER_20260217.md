# HANDOVER 2026-02-17

## 1. Current Production URL
- Web (public): https://web-b0kl54jbf-h-yoshino-link-8jps-projects.vercel.app
- Status check at deploy time: HTTP 200

## 2. Git Status
- Main branch head: `44973d9`
- Branches synced at this point:
  - `main`
  - `codex/build-link-estimate-system`

## 3. What Was Completed
- Restored estimate/cost operations so they work in local mode when API is unavailable.
- Added explicit mode visibility (`API接続中` / `ローカルモード`) in header.
- Reworked flow to project-first workspace.
- Hardened API side:
  - sync upload size guard and streaming write
  - optional API key dependency (`APP_API_KEY`)
  - accounting validation (reject paid > billed/ordered)
  - pagination for list endpoints
- Upgraded web dependencies and removed known npm audit vulnerabilities.

## 4. Key Paths
- Web API client: `app/web/lib/api.ts`
- Project workspace UI: `app/web/app/projects/[projectId]/page.tsx`
- Dashboard UI: `app/web/app/page.tsx`
- Finance compatibility page: `app/web/app/finance/page.tsx`
- API security helper: `app/api/app/security.py`
- Sync router: `app/api/app/routers/sync.py`
- Finance router: `app/api/app/routers/finance.py`

## 5. How To Continue (for next assignee)
1. Pull latest from `main`.
2. Verify web behavior on production URL:
   - create project
   - add estimate item
   - register invoice/payment
3. If API-backed persistence is required, connect and verify backend deployment (Render/Vercel API) and set envs.
4. Keep deploy/action logs updated:
   - `docs/EXECUTION_LOG_20260217.md`
   - `docs/DEPLOY_LOG_20260217.md`

## 6. Verification Snapshot
- API tests: `10 passed`
- Web build: pass (Next.js 15.5.10)
- npm audit (prod deps): `found 0 vulnerabilities`
